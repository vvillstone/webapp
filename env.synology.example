# Symfony 6 Modular App - Configuration Synology
# Copier ce fichier vers .env et ajuster selon vos besoins

# Application
APP_ENV=prod
APP_SECRET=!ChangeMe!
APP_DEBUG=0

# Base de données MySQL
DATABASE_URL="mysql://symfony_user:symfony_password@database:3306/symfony_app?serverVersion=8.0&charset=utf8mb4"

# Redis pour Messenger et Cache
MESSENGER_TRANSPORT_DSN=redis://redis:6379/messenger
REDIS_URL=redis://redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# Mercure Hub
MERCURE_URL=http://mercure:80/.well-known/mercure
MERCURE_PUBLIC_URL=http://localhost:3000/.well-known/mercure
MERCURE_JWT_SECRET=!ChangeThisMercureHubJWTSecretKey!

# JWT Authentication
JWT_SECRET_KEY=%kernel.project_dir%/config/jwt/private.pem
JWT_PUBLIC_KEY=%kernel.project_dir%/config/jwt/public.pem
JWT_PASSPHRASE=your_secure_passphrase_here

# Mail (MailHog pour développement)
MAILER_DSN=smtp://mailhog:1025

# Logs
SYMFONY_DEPRECATIONS_HELPER=999999

# Performance
PHP_MEMORY_LIMIT=512M
PHP_MAX_EXECUTION_TIME=300
PHP_OPCACHE_MEMORY_CONSUMPTION=256

# Sécurité
CORS_ALLOW_ORIGIN='^https?://(localhost|127\.0\.0\.1)(:[0-9]+)?$'

# Monitoring
HEALTH_CHECK_ENABLED=1
